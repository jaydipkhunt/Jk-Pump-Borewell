<!DOCTYPE html>
<html lang="gu">
<head>
  <meta charset="UTF-8" />
  <title>Quotation - JK PUMP & BOREWELL</title>
  <script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    #visitingCardHeader {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid #ccc;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }

    #visitingCardHeader img {
      height: 60px;
    }

    h2 {
      text-align: center;
      background-color: #f0c000;
      padding: 10px;
      color: #000;
    }

    .header-inputs {
      text-align: center;
      margin-bottom: 20px;
    }

    .header-inputs input {
      font-size: 18px;
      padding: 5px 10px;
      margin: 5px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th, td {
      border: 1px solid #999;
      padding: 8px;
      text-align: center;
    }

    th {
      background-color: #f3f3f3;
    }

    input[type="number"] {
      width: 100%;
      padding: 5px;
      box-sizing: border-box;
      border: none;
      text-align: center;
    }

    .note {
      margin-top: 20px;
      color: red;
      font-weight: bold;
    }

    .total {
      text-align: right;
      font-size: 18px;
      margin-top: 20px;
      font-weight: bold;
      background-color: #007bff;
      color: white;
      padding: 10px;
    }

    .btn {
      margin-top: 20px;
      margin-right: 10px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #28a745;
      color: white;
      border: none;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #218838;
    }

    .remove-btn {
      background-color: #dc3545;
      color: white;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
    }

    .remove-btn:hover {
      background-color: #c82333;
    }

    @media print {
      .btn, .header-inputs input {
        display: none !important;
      }

      input[type="number"] {
        border: none;
        background: transparent;
      }

      body {
        padding: 0;
        margin: 0;
      }

      table {
        page-break-inside: auto;
      }
    }
  </style>
</head>
<body>

<!-- Visiting Card Header -->
<div id="visitingCardHeader">
  <div style="flex: 1;">
    <img src="jklogo.png" alt="Company Logo" />
  </div>
  <div style="flex: 2; text-align: center;">
    <div style="font-size: 24px; font-weight: bold; color: #007bff;"> JK PUMP & BOREWELL </div>
    <div style="font-size: 14px; font-style: italic;">Water Solutions for Every Drop</div>
  </div>
  <div style="flex: 1; text-align: right;">
     <div>тЬЙя╕П PareshBhai Jagani</div>
    <div>ЁЯУЮ +91-96874-23330</div>
    <div>ЁЯУЮ +91-99094-82052</div>
  </div>
</div>

<!-- Quotation Section -->
<div id="quotation">
  <div class="header-inputs">
    <label>ркХрк╕рлНркЯркорк░ркирлБркВ ркирк╛рко: <input type="text" id="customerName" value="UBHEL" /></label>
    <label>ркдрк╛рк░рлАркЦ: <input type="text" id="quoteDate" value="" /></label>
  </div>
  <table id="quoteTable">
    <thead>
      <tr>
        <th>рк╡рк┐ркЧркд</th>
        <th>ркиркВркмрк░ / ркХрлНрк╡рк╛ркВркЯрк┐ркЯрлА</th>
        <th>ркнрк╛рк╡</th>
        <th>рк░ркХрко</th>
        <th>тЭМ</th>
      </tr>
    </thead>
    <tbody id="quoteBody">
      <!-- Fixed items will load here -->
    </tbody>
  </table>

  <div class="note">ркирлЛркЯ: ркорк╛ркЯрлА рккрлБрк░рк╛ркг ркирк╛ ркЕрк▓ркЧркерлА ркЪрк╛рк░рлНркЬ рк▓рк╛ркЧрк╢рлЗ</div>
  <div class="note">ркирлЛркЯ: ркЖрк░рк╕рлАрк╕рлА ркдрлЛркбрк╡рк╛ркирлА ркоркЬрлВрк░рлА ркЕрк▓ркЧркерлА рк▓рк╛ркЧрк╢рлЗ</div>
  <div class="note">ркирлЛркЯ: ркорлЛркЯрк░ ркорк╛ 1 рк╡рк░рлНрк╖ ркирлА рк╡рлЛрк░ркВркЯрлА</div>

  <div class="total" id="totalDisplay">ркЯрлЛркЯрк▓ : тВ╣ 0</div>
</div>

<!-- Buttons -->
<button class="btn" onclick="resetQuotation()">ЁЯЖХ New Quotation</button>
<button class="btn" onclick="downloadPDF()">ЁЯУД Download PDF</button>
<button class="btn" onclick="window.print()">ЁЯЦия╕П Print</button>

<script>
  const defaultItems = [
    'ркмрлЛрк░рлАркВркЧ рклрлВркЯ',
    'ркХрлЗрк╕рк┐ркВркЧ рккрк╛ркЗркк ISO or atlas',
    'рк╕рлНркЯрлЗркирк░ рккрк╛ркЗркк ркиркВркЧ',
    'рк╕рлЛрк▓рлНркпрлБрк╢рки ркЕркирлЗ рк╕рлНркХрлНрк░рлВ',
    'ркЧрк╛рк╡рк▓ рк╕рлНркЯрлЗркирк░ рк╡рк╛рк│рк╛ рккрк╛ркЗркк',
    'ркЯрлЗркорлНрккрлЛ ркЕркирлЗ ркЯрлНрк░рлЗркХрлНркЯрк░ ркнрк╛ркбрлБ',
    'рк╕ркмркорк░рк╕рк┐ркмрк▓ рккркВркк',
    'рк╕рлНркЯрк╛рк░рлНркЯрк░',
    'ISI & HDPE рккрк╛ркЗркк',
    'ISI ркХрлЗркмрк▓ ркорлАркЯрк░ 1.5MM',
    'рк╕рлНркЯрлЗркк ркирк┐рккрк▓',
    'ркмрлЛрк░ркХрлЗркк',
    'ркЧрлЗ. ркирк┐рккрк▓ & рккрк░ркЪрлВрк░ркг',
    'ркирлЛрки рк░рк┐ркЯрки рк╡рк╛рк▓',
    'рккрк╛ркЯрк╛ ркХрк╛рко',
    'рккркВркк ркЙркдрк╛рк░рк╡рк╛ркирлА ркоркЬрлВрк░рлА',
    'ркЦрк╛ркбрлЛ ркЦрлЛркжрк╡рк╛ркирлА ркоркЬрлВрк░рлА'
  ];

  function populateDefaultItems() {
    const tbody = document.getElementById('quoteBody');
    tbody.innerHTML = '';

    defaultItems.forEach(item => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${item}</td>
        <td><input type="number" value="0" onchange="calculateTotals()" /></td>
        <td><input type="number" value="0" onchange="calculateTotals()" /></td>
        <td class="amount">0</td>
        <td><button class="remove-btn" onclick="removeRow(this)">X</button></td>
      `;
      tbody.appendChild(row);
    });

    calculateTotals();
  }

  function calculateTotals() {
    const rows = document.querySelectorAll('#quoteBody tr');
    let grandTotal = 0;

    rows.forEach(row => {
      const qty = parseFloat(row.cells[1].querySelector('input').value) || 0;
      const rate = parseFloat(row.cells[2].querySelector('input').value) || 0;
      const amount = qty * rate;
      row.cells[3].innerText = amount.toFixed(2);
      grandTotal += amount;
    });

    document.getElementById('totalDisplay').innerText =
      `ркЯрлЛркЯрк▓: тВ╣ ${grandTotal.toFixed(2)}`;

    // Update heading
    const name = document.getElementById('customerName').value;
    const date = document.getElementById('quoteDate').value;
    document.getElementById('quoteTitle').innerText = `ркХрк╕рлНркЯркорк░: ${name} - ${date}`;
  }

  function removeRow(button) {
    button.closest('tr').remove();
    calculateTotals();
  }

  function resetQuotation() {
    document.getElementById('customerName').value = 'UBHEL';
    const today = new Date();
    const formattedDate = `${today.getDate()}.${today.getMonth() + 1}.${today.getFullYear()}`;
    document.getElementById('quoteDate').value = formattedDate;
    populateDefaultItems();
  }

  function downloadPDF() {
    calculateTotals();
    const element = document.getElementById('quotation');
    html2pdf().from(element).save('Quotation_UBHEL.pdf');
  }

  // Init on page load
  window.onload = resetQuotation;
</script>

</body>
</html>
